<footer class="footer">
    <span>&copy; {{ now.Year }} <a href="{{ "" | absLangURL }}">{{ .Site.Title }}</a></span>
</footer>

<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        // Check if currently consistently dark (either by class or system preference with no override)
        // If html has class 'light', we are definitely in light mode (overriding system dark).
        // Otherwise, check body class or system preference.
        const isDark = document.body.className.includes("dark") ||
            (!document.documentElement.classList.contains('light') && window.matchMedia('(prefers-color-scheme: dark)').matches);

        if (isDark) {
            // Switch to Light
            document.body.classList.remove('dark');
            document.documentElement.classList.add('light'); // Force light mode
            localStorage.setItem("pref-theme", 'light');
            document.documentElement.dataset.theme = 'light';
        } else {
            // Switch to Dark
            document.body.classList.add('dark');
            document.documentElement.classList.remove('light'); // Remove force light
            localStorage.setItem("pref-theme", 'dark');
            document.documentElement.dataset.theme = 'dark';
        }
    })
</script>